{
    "openapi": "3.1.0",
    "info": {
        "title": "CogStack ModelServe",
        "summary": "A model serving and governance system for CogStack NLP solutions",
        "version": "0.1.0"
    },
    "paths": {
        "/info": {
            "get": {
                "tags": [
                    "Metadata"
                ],
                "summary": "Get Model Card",
                "description": "Get information about the model being served",
                "operationId": "get_model_card",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ModelCard"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/process": {
            "post": {
                "tags": [
                    "Annotations"
                ],
                "summary": "Get Entities From Text",
                "description": "Extract the NER entities from a single piece of plain text",
                "operationId": "get_entities_from_text",
                "requestBody": {
                    "content": {
                        "text/plain": {
                            "schema": {
                                "type": "string",
                                "title": "Text",
                                "description": "The plain text to be sent to the model for NER"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/TextWithAnnotations"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/process_jsonl": {
            "post": {
                "tags": [
                    "Annotations"
                ],
                "summary": "Get Entities From Jsonlines Text",
                "description": "Extract the NER entities from texts in the JSON Lines format",
                "operationId": "get_entities_from_jsonlines_text",
                "requestBody": {
                    "content": {
                        "application/x-ndjson": {
                            "schema": {
                                "type": "string",
                                "title": "Json Lines",
                                "description": "The texts in the jsonlines format and each line contains {\"text\": \"<TEXT>\"[, \"name\": \"<NAME>\"]}"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/process_bulk": {
            "post": {
                "tags": [
                    "Annotations"
                ],
                "summary": "Get Entities From Multiple Texts",
                "description": "Extract the NER entities from multiple plain texts",
                "operationId": "get_entities_from_multiple_texts",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array",
                                "title": "Texts",
                                "description": "A list of plain texts to be sent to the model for NER, in the format of [\"text_1\", \"text_2\", ..., \"text_n\"]"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "items": {
                                        "$ref": "#/components/schemas/TextWithAnnotations"
                                    },
                                    "type": "array",
                                    "title": "Response Get Entities From Multiple Texts Process Bulk Post"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/process_bulk_file": {
            "post": {
                "tags": [
                    "Annotations"
                ],
                "summary": "Extract Entities From Multi Text File",
                "description": "Upload a file containing a list of plain text and extract the NER entities in JSON",
                "operationId": "extract_entities_from_multi_text_file",
                "parameters": [
                    {
                        "name": "tracking_id",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "The tracking ID of the requested task",
                            "title": "Tracking Id"
                        },
                        "description": "The tracking ID of the requested task"
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/Body_extract_entities_from_multi_text_file_process_bulk_file_post"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/redact": {
            "post": {
                "tags": [
                    "Redaction"
                ],
                "summary": "Get Redacted Text",
                "description": "Extract and redact NER entities from a single piece of plain text",
                "operationId": "get_redacted_text",
                "parameters": [
                    {
                        "name": "concepts_to_keep",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            },
                            "description": "List of concepts (Label IDs) that should not be removedd during the redaction process. List should be in the format ['label1','label2'...]",
                            "default": [],
                            "title": "Concepts To Keep"
                        },
                        "description": "List of concepts (Label IDs) that should not be removedd during the redaction process. List should be in the format ['label1','label2'...]"
                    },
                    {
                        "name": "warn_on_no_redaction",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "boolean"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Return warning when no entities were detected for redaction to prevent potential info leaking",
                            "default": false,
                            "title": "Warn On No Redaction"
                        },
                        "description": "Return warning when no entities were detected for redaction to prevent potential info leaking"
                    },
                    {
                        "name": "mask",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "The custom symbols used for masking detected spans",
                            "title": "Mask"
                        },
                        "description": "The custom symbols used for masking detected spans"
                    },
                    {
                        "name": "hash",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "boolean"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Whether or not to hash detected spans",
                            "default": false,
                            "title": "Hash"
                        },
                        "description": "Whether or not to hash detected spans"
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "text/plain": {
                            "schema": {
                                "type": "string",
                                "description": "The plain text to be sent to the model for NER and redaction",
                                "title": "Text"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/redact_with_encryption": {
            "post": {
                "tags": [
                    "Redaction"
                ],
                "summary": "Get Redacted Text With Encryption",
                "description": "Redact and encrypt NER entities from a single piece of plain text",
                "operationId": "get_redacted_text_with_encryption",
                "parameters": [
                    {
                        "name": "warn_on_no_redaction",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "boolean"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Return warning when no entities were detected for redaction to prevent potential info leaking",
                            "default": false,
                            "title": "Warn On No Redaction"
                        },
                        "description": "Return warning when no entities were detected for redaction to prevent potential info leaking"
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/TextWithPublicKey"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/embeddings": {
            "post": {
                "tags": [
                    "OpenAICompatible"
                ],
                "summary": "Embed Texts",
                "description": "Create embeddings based on text(s), similar to OpenAI's /v1/embeddings endpoint",
                "operationId": "embed_texts",
                "parameters": [
                    {
                        "name": "tracking_id",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "The tracking ID of the requested task",
                            "title": "Tracking Id"
                        },
                        "description": "The tracking ID of the requested task"
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/OpenAIEmbeddingsRequest",
                                "description": "Text(s) to be embedded"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/train_supervised": {
            "post": {
                "tags": [
                    "Training"
                ],
                "summary": "Train Supervised",
                "description": "Upload one or more trainer export files and trigger the supervised training",
                "operationId": "train_supervised",
                "parameters": [
                    {
                        "name": "epochs",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 0,
                            "description": "The number of training epochs",
                            "default": 1,
                            "title": "Epochs"
                        },
                        "description": "The number of training epochs"
                    },
                    {
                        "name": "lr_override",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "number",
                                    "exclusiveMinimum": 0.0
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "The override of the initial learning rate",
                            "title": "Lr Override"
                        },
                        "description": "The override of the initial learning rate"
                    },
                    {
                        "name": "test_size",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "number"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "The override of the test size in percentage. (For a 'huggingface-ner' model, a negative value can be used to apply the train-validation-test split if implicitly defined in trainer export: 'projects[0]' is used for training, 'projects[1]' for validation, and 'projects[2]' for testing)",
                            "default": 0.2,
                            "title": "Test Size"
                        },
                        "description": "The override of the test size in percentage. (For a 'huggingface-ner' model, a negative value can be used to apply the train-validation-test split if implicitly defined in trainer export: 'projects[0]' is used for training, 'projects[1]' for validation, and 'projects[2]' for testing)"
                    },
                    {
                        "name": "early_stopping_patience",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "integer"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "The number of evaluations to wait for improvement before stopping the training. (Non-positive values disable early stopping)",
                            "default": -1,
                            "title": "Early Stopping Patience"
                        },
                        "description": "The number of evaluations to wait for improvement before stopping the training. (Non-positive values disable early stopping)"
                    },
                    {
                        "name": "log_frequency",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 1,
                            "description": "The number of processed documents or epochs after which training metrics will be logged",
                            "default": 1,
                            "title": "Log Frequency"
                        },
                        "description": "The number of processed documents or epochs after which training metrics will be logged"
                    },
                    {
                        "name": "tracking_id",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "The tracking ID of the requested task",
                            "title": "Tracking Id"
                        },
                        "description": "The tracking ID of the requested task"
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/Body_train_supervised_train_supervised_post"
                            }
                        }
                    }
                },
                "responses": {
                    "202": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/train_unsupervised": {
            "post": {
                "tags": [
                    "Training"
                ],
                "summary": "Train Unsupervised",
                "description": "Upload one or more files each containing a list of plain texts and trigger the unsupervised training",
                "operationId": "train_unsupervised",
                "parameters": [
                    {
                        "name": "epochs",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 0,
                            "description": "The number of training epochs",
                            "default": 1,
                            "title": "Epochs"
                        },
                        "description": "The number of training epochs"
                    },
                    {
                        "name": "lr_override",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "number",
                                    "exclusiveMinimum": 0.0
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "The override of the initial learning rate",
                            "title": "Lr Override"
                        },
                        "description": "The override of the initial learning rate"
                    },
                    {
                        "name": "test_size",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "number",
                                    "minimum": 0.0
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "The override of the test size in percentage",
                            "default": 0.2,
                            "title": "Test Size"
                        },
                        "description": "The override of the test size in percentage"
                    },
                    {
                        "name": "log_frequency",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 1,
                            "description": "The number of processed documents or epochs after which training metrics will be logged",
                            "default": 1000,
                            "title": "Log Frequency"
                        },
                        "description": "The number of processed documents or epochs after which training metrics will be logged"
                    },
                    {
                        "name": "tracking_id",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "The tracking ID of the requested task",
                            "title": "Tracking Id"
                        },
                        "description": "The tracking ID of the requested task"
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/Body_train_unsupervised_train_unsupervised_post"
                            }
                        }
                    }
                },
                "responses": {
                    "202": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/train_unsupervised_with_hf_hub_dataset": {
            "post": {
                "tags": [
                    "Training"
                ],
                "summary": "Train Unsupervised With Hf Dataset",
                "description": "Upload or specify an existing Hugging Face dataset and trigger the unsupervised training",
                "operationId": "train_unsupervised_with_hf_dataset",
                "parameters": [
                    {
                        "name": "hf_dataset_repo_id",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "The repository ID of the dataset to download from Hugging Face Hub, will be ignored when 'hf_dataset_package' is provided",
                            "title": "Hf Dataset Repo Id"
                        },
                        "description": "The repository ID of the dataset to download from Hugging Face Hub, will be ignored when 'hf_dataset_package' is provided"
                    },
                    {
                        "name": "hf_dataset_config",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "The name of the dataset configuration, will be ignored when 'hf_dataset_package' is provided",
                            "title": "Hf Dataset Config"
                        },
                        "description": "The name of the dataset configuration, will be ignored when 'hf_dataset_package' is provided"
                    },
                    {
                        "name": "trust_remote_code",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "description": "Whether to trust the remote code of the dataset",
                            "default": false,
                            "title": "Trust Remote Code"
                        },
                        "description": "Whether to trust the remote code of the dataset"
                    },
                    {
                        "name": "text_column_name",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "description": "The name of the text column in the dataset",
                            "default": "text",
                            "title": "Text Column Name"
                        },
                        "description": "The name of the text column in the dataset"
                    },
                    {
                        "name": "epochs",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 0,
                            "description": "The number of training epochs",
                            "default": 1,
                            "title": "Epochs"
                        },
                        "description": "The number of training epochs"
                    },
                    {
                        "name": "lr_override",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "number",
                                    "exclusiveMinimum": 0.0
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "The override of the initial learning rate",
                            "title": "Lr Override"
                        },
                        "description": "The override of the initial learning rate"
                    },
                    {
                        "name": "test_size",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "number",
                                    "minimum": 0.0
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "The override of the test size in percentage will only take effect if the dataset does not have predefined validation or test splits",
                            "default": 0.2,
                            "title": "Test Size"
                        },
                        "description": "The override of the test size in percentage will only take effect if the dataset does not have predefined validation or test splits"
                    },
                    {
                        "name": "log_frequency",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 1,
                            "description": "The number of processed documents or epochs after which training metrics will be logged",
                            "default": 1000,
                            "title": "Log Frequency"
                        },
                        "description": "The number of processed documents or epochs after which training metrics will be logged"
                    },
                    {
                        "name": "description",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "The description of the training or change logs",
                            "title": "Description"
                        },
                        "description": "The description of the training or change logs"
                    },
                    {
                        "name": "tracking_id",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "The tracking ID of the requested task",
                            "title": "Tracking Id"
                        },
                        "description": "The tracking ID of the requested task"
                    }
                ],
                "requestBody": {
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/Body_train_unsupervised_with_hf_dataset_train_unsupervised_with_hf_hub_dataset_post"
                            }
                        }
                    }
                },
                "responses": {
                    "202": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/train_eval_info": {
            "get": {
                "tags": [
                    "Training"
                ],
                "summary": "Train Eval Info",
                "description": "Get the training or evaluation job information by its ID",
                "operationId": "train_eval_info",
                "parameters": [
                    {
                        "name": "train_eval_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "The training or evaluation ID",
                            "title": "Train Eval Id"
                        },
                        "description": "The training or evaluation ID"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/evaluate": {
            "post": {
                "tags": [
                    "Training"
                ],
                "summary": "Get Evaluation With Trainer Export",
                "description": "Evaluate the model being served with a trainer export",
                "operationId": "get_evaluation_with_trainer_export",
                "parameters": [
                    {
                        "name": "tracking_id",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "The tracking ID of the requested task",
                            "title": "Tracking Id"
                        },
                        "description": "The tracking ID of the requested task"
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/Body_get_evaluation_with_trainer_export_evaluate_post"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/cancel_training": {
            "post": {
                "tags": [
                    "Training"
                ],
                "summary": "Cancel Training",
                "description": "Cancel the in-progress training job (this is experimental and may not work as expected)",
                "operationId": "cancel_training",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    }
                }
            }
        },
        "/train_eval_metrics": {
            "get": {
                "tags": [
                    "Training"
                ],
                "summary": "Train Eval Metrics",
                "description": "Get the training or evaluation metrics by its ID (Each metric may contain multiple values for multiple epochs)",
                "operationId": "train_eval_metrics",
                "parameters": [
                    {
                        "name": "train_eval_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "The training or evaluation ID",
                            "title": "Train Eval Id"
                        },
                        "description": "The training or evaluation ID"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/sanity-check": {
            "post": {
                "tags": [
                    "Evaluating"
                ],
                "summary": "Get Sanity Check With Trainer Export",
                "description": "Sanity check the model being served with a trainer export",
                "operationId": "get_sanity_check_with_trainer_export",
                "parameters": [
                    {
                        "name": "tracking_id",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "The tracking ID of the requested task",
                            "title": "Tracking Id"
                        },
                        "description": "The tracking ID of the requested task"
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/Body_get_sanity_check_with_trainer_export_sanity_check_post"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/iaa-scores": {
            "post": {
                "tags": [
                    "Evaluating"
                ],
                "summary": "Get Inter Annotator Agreement Scores",
                "description": "Calculate inter annotator agreement scores between two projects",
                "operationId": "get_inter_annotator_agreement_scores",
                "parameters": [
                    {
                        "name": "annotator_a_project_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "description": "The project ID from one annotator",
                            "title": "Annotator A Project Id"
                        },
                        "description": "The project ID from one annotator"
                    },
                    {
                        "name": "annotator_b_project_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "description": "The project ID from another annotator",
                            "title": "Annotator B Project Id"
                        },
                        "description": "The project ID from another annotator"
                    },
                    {
                        "name": "scope",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "The scope for which the score will be calculated, e.g., per_concept, per_document or per_span",
                            "enum": [
                                "per_concept",
                                "per_document",
                                "per_span"
                            ],
                            "title": "Scope"
                        },
                        "description": "The scope for which the score will be calculated, e.g., per_concept, per_document or per_span"
                    },
                    {
                        "name": "tracking_id",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "The tracking ID of the requested task",
                            "title": "Tracking Id"
                        },
                        "description": "The tracking ID of the requested task"
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/Body_get_inter_annotator_agreement_scores_iaa_scores_post"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/concat_trainer_exports": {
            "post": {
                "tags": [
                    "Evaluating"
                ],
                "summary": "Get Concatenated Trainer Exports",
                "description": "Concatenate multiple trainer export files into a single file for download",
                "operationId": "get_concatenated_trainer_exports",
                "parameters": [
                    {
                        "name": "tracking_id",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "The tracking ID of the requested task",
                            "title": "Tracking Id"
                        },
                        "description": "The tracking ID of the requested task"
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/Body_get_concatenated_trainer_exports_concat_trainer_exports_post"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/annotation-stats": {
            "post": {
                "tags": [
                    "Evaluating"
                ],
                "summary": "Get Annotation Stats",
                "description": "Get annotation stats of trainer export files",
                "operationId": "get_annotation_stats",
                "parameters": [
                    {
                        "name": "tracking_id",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "The tracking ID of the requested task",
                            "title": "Tracking Id"
                        },
                        "description": "The tracking ID of the requested task"
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/Body_get_annotation_stats_annotation_stats_post"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/preview": {
            "post": {
                "tags": [
                    "Rendering"
                ],
                "summary": "Get Rendered Entities From Text",
                "description": "Extract the NER entities in HTML for preview",
                "operationId": "get_rendered_entities_from_text",
                "parameters": [
                    {
                        "name": "tracking_id",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "The tracking ID of the requested task",
                            "title": "Tracking Id"
                        },
                        "description": "The tracking ID of the requested task"
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "text/plain": {
                            "schema": {
                                "type": "string",
                                "description": "The text to be sent to the model for NER",
                                "title": "Text"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/preview_trainer_export": {
            "post": {
                "tags": [
                    "Rendering"
                ],
                "summary": "Get Rendered Entities From Trainer Export",
                "description": "Get existing entities in HTML from a trainer export for preview",
                "operationId": "get_rendered_entities_from_trainer_export",
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "integer"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "The target project ID, and if not provided, all projects will be included",
                            "title": "Project Id"
                        },
                        "description": "The target project ID, and if not provided, all projects will be included"
                    },
                    {
                        "name": "document_id",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "integer"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "The target document ID, and if not provided, all documents of the target project(s) will be included",
                            "title": "Document Id"
                        },
                        "description": "The target document ID, and if not provided, all documents of the target project(s) will be included"
                    },
                    {
                        "name": "tracking_id",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "The tracking ID of the requested task",
                            "title": "Tracking Id"
                        },
                        "description": "The tracking ID of the requested task"
                    }
                ],
                "requestBody": {
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/Body_get_rendered_entities_from_trainer_export_preview_trainer_export_post"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "Annotation": {
                "properties": {
                    "doc_name": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Doc Name",
                        "description": "The name of the document to which the annotation belongs"
                    },
                    "start": {
                        "type": "integer",
                        "title": "Start",
                        "description": "The start index of the annotation span"
                    },
                    "end": {
                        "type": "integer",
                        "title": "End",
                        "description": "The first index after the annotation span"
                    },
                    "label_name": {
                        "type": "string",
                        "title": "Label Name",
                        "description": "The pretty name of the annotation concept"
                    },
                    "label_id": {
                        "type": "string",
                        "title": "Label Id",
                        "description": "The code of the annotation concept"
                    },
                    "categories": {
                        "anyOf": [
                            {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Categories",
                        "description": "The categories to which the annotation concept belongs"
                    },
                    "accuracy": {
                        "anyOf": [
                            {
                                "type": "number"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Accuracy",
                        "description": "The confidence score of the annotation"
                    },
                    "text": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Text",
                        "description": "The string literal of the annotation span"
                    },
                    "meta_anns": {
                        "anyOf": [
                            {
                                "additionalProperties": true,
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Meta Anns",
                        "description": "The meta annotations"
                    },
                    "athena_ids": {
                        "anyOf": [
                            {
                                "items": {
                                    "additionalProperties": true,
                                    "type": "object"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Athena Ids",
                        "description": "The OHDSI Athena concept IDs"
                    }
                },
                "type": "object",
                "required": [
                    "start",
                    "end",
                    "label_name",
                    "label_id"
                ],
                "title": "Annotation"
            },
            "Body_extract_entities_from_multi_text_file_process_bulk_file_post": {
                "properties": {
                    "multi_text_file": {
                        "type": "string",
                        "format": "binary",
                        "title": "Multi Text File",
                        "description": "A file containing a list of plain texts, in the format of [\"text_1\", \"text_2\", ..., \"text_n\"]"
                    }
                },
                "type": "object",
                "required": [
                    "multi_text_file"
                ],
                "title": "Body_extract_entities_from_multi_text_file_process_bulk_file_post"
            },
            "Body_get_annotation_stats_annotation_stats_post": {
                "properties": {
                    "trainer_export": {
                        "items": {
                            "type": "string",
                            "format": "binary"
                        },
                        "type": "array",
                        "title": "Trainer Export",
                        "description": "One or more trainer export files to be uploaded"
                    }
                },
                "type": "object",
                "required": [
                    "trainer_export"
                ],
                "title": "Body_get_annotation_stats_annotation_stats_post"
            },
            "Body_get_concatenated_trainer_exports_concat_trainer_exports_post": {
                "properties": {
                    "trainer_export": {
                        "items": {
                            "type": "string",
                            "format": "binary"
                        },
                        "type": "array",
                        "title": "Trainer Export",
                        "description": "A list of trainer export files to be concatenated"
                    }
                },
                "type": "object",
                "required": [
                    "trainer_export"
                ],
                "title": "Body_get_concatenated_trainer_exports_concat_trainer_exports_post"
            },
            "Body_get_evaluation_with_trainer_export_evaluate_post": {
                "properties": {
                    "trainer_export": {
                        "items": {
                            "type": "string",
                            "format": "binary"
                        },
                        "type": "array",
                        "title": "Trainer Export",
                        "description": "One or more trainer export files to be uploaded"
                    }
                },
                "type": "object",
                "required": [
                    "trainer_export"
                ],
                "title": "Body_get_evaluation_with_trainer_export_evaluate_post"
            },
            "Body_get_inter_annotator_agreement_scores_iaa_scores_post": {
                "properties": {
                    "trainer_export": {
                        "items": {
                            "type": "string",
                            "format": "binary"
                        },
                        "type": "array",
                        "title": "Trainer Export",
                        "description": "A list of trainer export files to be uploaded"
                    }
                },
                "type": "object",
                "required": [
                    "trainer_export"
                ],
                "title": "Body_get_inter_annotator_agreement_scores_iaa_scores_post"
            },
            "Body_get_rendered_entities_from_trainer_export_preview_trainer_export_post": {
                "properties": {
                    "trainer_export": {
                        "items": {
                            "type": "string",
                            "format": "binary"
                        },
                        "type": "array",
                        "title": "Trainer Export",
                        "description": "One or more trainer export files to be uploaded",
                        "default": []
                    },
                    "trainer_export_str": {
                        "type": "string",
                        "title": "Trainer Export Str",
                        "description": "The trainer export raw JSON string",
                        "default": "{\"projects\": []}"
                    }
                },
                "type": "object",
                "title": "Body_get_rendered_entities_from_trainer_export_preview_trainer_export_post"
            },
            "Body_get_sanity_check_with_trainer_export_sanity_check_post": {
                "properties": {
                    "trainer_export": {
                        "items": {
                            "type": "string",
                            "format": "binary"
                        },
                        "type": "array",
                        "title": "Trainer Export",
                        "description": "One or more trainer export files to be uploaded"
                    }
                },
                "type": "object",
                "required": [
                    "trainer_export"
                ],
                "title": "Body_get_sanity_check_with_trainer_export_sanity_check_post"
            },
            "Body_train_supervised_train_supervised_post": {
                "properties": {
                    "trainer_export": {
                        "items": {
                            "type": "string",
                            "format": "binary"
                        },
                        "type": "array",
                        "title": "Trainer Export",
                        "description": "One or more trainer export files to be uploaded"
                    },
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description",
                        "description": "The description of the training or change logs"
                    }
                },
                "type": "object",
                "required": [
                    "trainer_export"
                ],
                "title": "Body_train_supervised_train_supervised_post"
            },
            "Body_train_unsupervised_train_unsupervised_post": {
                "properties": {
                    "training_data": {
                        "items": {
                            "type": "string",
                            "format": "binary"
                        },
                        "type": "array",
                        "title": "Training Data",
                        "description": "One or more files to be uploaded and each contains a list of plain texts, in the format of [\"text_1\", \"text_2\", ..., \"text_n\"]"
                    },
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description",
                        "description": "The description of the training or change logs"
                    }
                },
                "type": "object",
                "required": [
                    "training_data"
                ],
                "title": "Body_train_unsupervised_train_unsupervised_post"
            },
            "Body_train_unsupervised_with_hf_dataset_train_unsupervised_with_hf_hub_dataset_post": {
                "properties": {
                    "hf_dataset_package": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "binary"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Hf Dataset Package",
                        "description": "A ZIP file or Gzipped tarball containing the dataset to be uploaded, will disable the download of 'hf_dataset_repo_id'"
                    }
                },
                "type": "object",
                "title": "Body_train_unsupervised_with_hf_dataset_train_unsupervised_with_hf_hub_dataset_post"
            },
            "HTTPValidationError": {
                "properties": {
                    "detail": {
                        "items": {
                            "$ref": "#/components/schemas/ValidationError"
                        },
                        "type": "array",
                        "title": "Detail"
                    }
                },
                "type": "object",
                "title": "HTTPValidationError"
            },
            "ModelCard": {
                "properties": {
                    "api_version": {
                        "type": "string",
                        "title": "Api Version",
                        "description": "The version of the model serve APIs"
                    },
                    "model_type": {
                        "$ref": "#/components/schemas/ModelType",
                        "description": "The type of the served model"
                    },
                    "model_description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Model Description",
                        "description": "The description about the served model"
                    },
                    "model_card": {
                        "anyOf": [
                            {
                                "additionalProperties": true,
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Model Card",
                        "description": "The metadata of the served model"
                    },
                    "labels": {
                        "anyOf": [
                            {
                                "additionalProperties": {
                                    "type": "string"
                                },
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Labels",
                        "description": "The mapping of CUIs to names"
                    }
                },
                "type": "object",
                "required": [
                    "api_version",
                    "model_type"
                ],
                "title": "ModelCard"
            },
            "ModelType": {
                "type": "string",
                "enum": [
                    "medcat_snomed",
                    "medcat_umls",
                    "medcat_icd10",
                    "medcat_opcs4",
                    "medcat_deid",
                    "anoncat",
                    "transformers_deid",
                    "huggingface_ner",
                    "huggingface_llm"
                ],
                "title": "ModelType"
            },
            "OpenAIEmbeddingsRequest": {
                "properties": {
                    "input": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array"
                            }
                        ],
                        "title": "Input",
                        "description": "Input text or list of texts to embed"
                    },
                    "model": {
                        "type": "string",
                        "title": "Model",
                        "description": "The name of the model used for creating the embeddings"
                    }
                },
                "type": "object",
                "required": [
                    "input",
                    "model"
                ],
                "title": "OpenAIEmbeddingsRequest"
            },
            "TextWithAnnotations": {
                "properties": {
                    "text": {
                        "type": "string",
                        "title": "Text",
                        "description": "The text from which the annotations are extracted"
                    },
                    "annotations": {
                        "items": {
                            "$ref": "#/components/schemas/Annotation"
                        },
                        "type": "array",
                        "title": "Annotations",
                        "description": "The list of extracted annotations"
                    }
                },
                "type": "object",
                "required": [
                    "text",
                    "annotations"
                ],
                "title": "TextWithAnnotations"
            },
            "TextWithPublicKey": {
                "properties": {
                    "text": {
                        "type": "string",
                        "title": "Text",
                        "description": "The plain text to be sent to the model for NER and redaction"
                    },
                    "public_key_pem": {
                        "type": "string",
                        "title": "Public Key Pem",
                        "description": "the public PEM key used for encrypting detected spans"
                    }
                },
                "type": "object",
                "required": [
                    "text",
                    "public_key_pem"
                ],
                "title": "TextWithPublicKey"
            },
            "ValidationError": {
                "properties": {
                    "loc": {
                        "items": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "integer"
                                }
                            ]
                        },
                        "type": "array",
                        "title": "Location"
                    },
                    "msg": {
                        "type": "string",
                        "title": "Message"
                    },
                    "type": {
                        "type": "string",
                        "title": "Error Type"
                    }
                },
                "type": "object",
                "required": [
                    "loc",
                    "msg",
                    "type"
                ],
                "title": "ValidationError"
            }
        }
    },
    "tags": [
        {
            "name": "Metadata",
            "description": "Get the model card"
        },
        {
            "name": "Annotations",
            "description": "Retrieve NER entities by running the model"
        },
        {
            "name": "Redaction",
            "description": "Redact the extracted NER entities"
        },
        {
            "name": "Rendering",
            "description": "Preview embeddable annotation snippet in HTML"
        },
        {
            "name": "Training",
            "description": "Trigger model training on input annotations"
        },
        {
            "name": "Evaluating",
            "description": "Evaluate the deployed model with trainer export"
        },
        {
            "name": "Authentication",
            "description": "Authenticate registered users"
        },
        {
            "name": "Generative",
            "description": "Generate text based on the input prompt"
        },
        {
            "name": "OpenAICompatible",
            "description": "Operations compatible with OpenAI APIs"
        }
    ]
}